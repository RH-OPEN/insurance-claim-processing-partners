= Application Overview
include::_attributes.adoc[]

== アーキテクチャ

アプリケーションの簡略化されたアーキテクチャ図は次のとおりです:

[.bordershadow]

image::05/application-architecture.drawio.svg[]

さまざまなコンポーネントは次のとおりです:

- **フロントエンド**: Patternfly フレームワーク (React、Typescript) を使用して開発されたアプリケーション自体で、ユーザーのブラウザーで実行されます。
- **バックエンド**: OpenShift 上のコンテナーで実行される Python FastAPI アプリケーション。データベース、LLM、およびオブジェクト ストレージとの通信を処理します。REST API を公開することで、フロントエンドとの通信を処理します。
- **データベース**: OpenShift 上のコンテナーで実行される PostgreSQL データベース。クレームを保存します。
- **LLM**: クレームから情報を要約および抽出するために使用される言語モデル。バックエンドによって API を通じて使用されます。
- **オブジェクト ストレージ**: S3 互換のオブジェクト ストレージ。クレーム画像を保存します。

== アプリケーション コード

アプリケーションのコードを確認したい場合は、OpenShift AI から直接行うことができます。

- ブラウザーでまだ開いている可能性のあるさまざまな Jupyter タブを閉じます。
- OpenShift AI ダッシュボードに戻ります。
- トグルを使用してワークベンチを停止します。
- 完全に停止するには、おそらく 5 秒から 10 秒かかります。
- 左側のメニュー項目をクリックしてから、[ワークベンチの編集] ボタンをクリックして、ワークベンチ構成を編集します。
+
[.bordershadow]
image::05/stop-workbench.png[]

- イメージ セクションで、イメージを `CUSTOM - VSCode for Insurance Claim Processsing Lab` に変更します。
+
[.bordershadow]
image::05/vscode-image.png[]
- これは、OpenShift AI プラットフォームの柔軟性を示すために、この特定のラボで追加されたカスタム ビルド イメージであることに注意してください。すべての人がすべての用途に Jupyter Notebook を使用したいわけではありません。

- 次に、ページの下部にある「ワークベンチの更新」をクリックします。
+
[.bordershadow]
image::05/update-workbench.png[]

- トグルを使用してワークベンチを再度起動できるようになりました。
- ワークベンチが起動したら、[**開く**] リンクをクリックします。
- VSCode IDE にリダイレクトされます。
- ログインして承認を受け入れると、VSCode が開きます。
- 初めて接続するときは、ワークスペースを信頼していることを示す必要があります。
- [**はい、作成者を信頼します**] ボタンをクリックします。
+
[.bordershadow]
image::05/trust-vscode.png[]

* [ようこそ] タブを閉じると、使い慣れた VSCode 環境に戻ります。
* 永続ボリュームは、この新しい環境に自動的に再接続されました。
** したがって、Jupyter 環境で作成したすべてのデータは引き続き利用できます
** VSCode はデフォルトで隠しファイルを表示するため、より多くのファイルを表示できますが、Jupyter ではそうではありません。
* 必要に応じて、`app` フォルダー内のアプリケーションのコードを調べることができます:
+
[.bordershadow]
image::05/app-code.png[]

Of course, this is a complete VSCode environment, so you can configure it in the same way as you would do for a local VSCode installation. You can install extensions that will be persisted when you stop and restart the Workbench, you can configure your own keybindings, etc.

The application has already been built as a container image that we are now ready to deploy using GitOps. You can head to the next section.
